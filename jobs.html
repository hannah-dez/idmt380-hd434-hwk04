<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jobs | Standard Tap Philadelphia</title>
  <meta name="description" content="The home of local beer in Philadelphia. 21 drafts and 2 hand pumps complement a changing, locally sourced chalkboard menu." />
  <link rel="stylesheet" href="styles.css">
</head>

<body class="jobs">
  <header aria-label="Header" class="second-header">
    <a href="#main" class="skip-link">Skip to main content</a>

    <div class="site-branding" role="Content">
        <img src="https://images.squarespace-cdn.com/content/v1/5dd43005931aab7d2c9b4cdf/1574188395319-GMSWC31FBBBBGD2QSYED/standardtaplogo.png"
            alt="Red Circle with Yellow 'Standard Tap' Words" />
      <h1>Eat Local | Drink Local</h1>
    </div>
    
  
    <button class="hamburger" aria-label="Hamburger Menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="header-menu closed" aria-label="Primary Menu">
      <ul aria-label="Navigation">
        <li aria-label="Home"><a href="index.html">Home</a></li>
        <li aria-label="About Us"><a href="#">About Us</a></li>
        <li aria-label="Inside The Tap"><a href="#">Inside The Tap</a></li>
        <li aria-label="Jobs"><a href="#">Jobs</a></li>
        <li class="social" aria-label="Standard Tap on Instagram (opens in a new tab)">
          <a href="" rel="noopener noreferrer">
            <img src="assets/insta-logo.svg" data-light="assets/insta-logo.svg" data-dark="assets/insta-dark-logo.svg" alt="Instagram Logo"/>
          </a>
        </li>
        <li class="social" aria-label="Standard Tap on Facebook (opens in a new tab)">
          <a href="" rel="noopener noreferrer">
            <img src="assets/fb-logo.svg" data-light="assets/fb-logo.svg" data-dark="assets/fb-dark-logo.svg" alt="Facebook Logo"/>
          </a>
        </li>
      </ul><!--ADD IN TARGET="BLANK"-->

      <div class="dyslexia-toggle" aria-label="accessibility options" role="Toggle">
        <span id="dyslexia-label" role="Label">Dyslexia Mode</span>
        <button id="dyslexia-toggle" class="switch" role="switch" aria-checked="false" aria-label="Toggle Dyslexia Mode">
          <span class="switch-handle"></span>
        </button>
      </div>
    </nav> 
  </header>


  <main id="main" tabindex="-1" aria-label="Job Application Form">
    <form id="contactForm" action="#" method="POST" enctype="multipart/form-data" aria-label="Job Application Form">  
      <fieldset class="fieldset">
        <legend class="sr-only" aria-label="Full Name">Full Name</legend>
        <label for="firstName" aria-label="First Name">
          First Name
          <input type="text" id="firstName" name="firstName" placeholder="John" required autocomplete="given-name">
        </label>
        <label for="lastName" aria-label="Last Name">
          Last Name
          <input type="text" id="lastName" name="lastName" placeholder="Doe" required autocomplete="family-name">
        </label>
      </fieldset>
      <label for="email" aria-label="Email">Email
        <input type="email" id="email" name="email" placeholder="john@example.com" required autocomplete="email">
      </label>

      <label for="comments" aria-label="Describe why you want the position">Please share why you want the position
        <textarea id="comments" name="comments" rows="5" placeholder="Write your message here..."></textarea>
      </label>

      <label for="resume" aria-label="Attatch Resume">Attach Resume
        <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" aria-describedby="resume-hint">
      </label>
      <button type="submit">Submit</button>
      <button type="reset" aria-label="Reset all form fields">Reset Form</button>
    </form>
    <section id="confirmation" aria-live="polite" style="display:none;">
      <h2>Thank you for your submission!</h2>
      <p aria-label="description">Here is what we received:</p>
      <dl aria-label="Submission Review">
        <dt>First Name:</dt>
        <dd id="conf-firstName" aria-label="Inputed Name"></dd>
        <dt>Last Name:</dt>
        <dd id="conf-lastName" aria-label="Inputed Name"></dd>
        <dt>Email:</dt>
        <dd id="conf-email" aria-label="Inputed Email"></dd>
        <dt>Please share why you want the position:</dt>
        <dd id="conf-comments" aria-label="Inputed Response"></dd>
        <dt>Resume:</dt>
        <dd id="conf-resume" aria-label="Inputed File"></dd>
      </dl>
      <button id="returnBtn" type="button">Submit Another Response</button>
    </section>
  </main>

  <script>
    const toggle = document.getElementById("dyslexia-toggle");

// Load saved preference
const isOn = localStorage.getItem("dyslexia") === "on";
if (isOn) {
  document.body.classList.add("dyslexia-mode");
  toggle.setAttribute("aria-checked", "true");
}

toggle.addEventListener("click", () => {
  const enabled = document.body.classList.toggle("dyslexia-mode");
  toggle.setAttribute("aria-checked", enabled.toString());
  localStorage.setItem("dyslexia", enabled ? "on" : "off");
});

const updateSocialIcons = () => {
  const isDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  document.querySelectorAll(".social img").forEach(img => {
    img.src = isDark ? img.dataset.dark : img.dataset.light;
  });
};

updateSocialIcons();
window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", updateSocialIcons);

const hamburger = document.querySelector(".hamburger");
const headerMenu = document.querySelector(".header-menu");
const dyslexiaToggle = document.getElementById("dyslexia-toggle");

hamburger.addEventListener("click", () => {
  const isOpen = headerMenu.classList.toggle("closed") === false;
  hamburger.setAttribute("aria-expanded", isOpen.toString());
});

dyslexiaToggle.addEventListener("keydown", (e) => {
  const isTab = e.key === "Tab";
  const isShift = e.shiftKey;
  const isMobile = window.matchMedia("(max-width: 768px)").matches;
  const menuIsOpen = !headerMenu.classList.contains("closed");

  if (isTab && !isShift && isMobile && menuIsOpen) {
    headerMenu.classList.add("closed");
    hamburger.setAttribute("aria-expanded", "false");
  }
});

const mediaQuery = window.matchMedia("(min-width: 769px)");

function handleResize(e) {
  if (e.matches) {
    headerMenu.classList.remove("closed");
    hamburger.setAttribute("aria-expanded", "true");
  } else {
    headerMenu.classList.add("closed");
    hamburger.setAttribute("aria-expanded", "false");
  }
}

handleResize(mediaQuery);
mediaQuery.addEventListener("change", handleResize);

document.getElementById('contactForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const firstName = document.getElementById('firstName').value;
  const lastName = document.getElementById('lastName').value;
  const email = document.getElementById('email').value;
  const comments = document.getElementById('comments').value;
  const resumeInput = document.getElementById('resume');
  const resumeName = resumeInput.files.length > 0 ? resumeInput.files[0].name : 'No file attached';

  document.getElementById('conf-firstName').textContent = firstName;
  document.getElementById('conf-lastName').textContent = lastName;
  document.getElementById('conf-email').textContent = email;
  document.getElementById('conf-comments').textContent = comments || 'None provided';
  document.getElementById('conf-resume').textContent = resumeName;

  document.getElementById('contactForm').classList.add('hidden');
  document.getElementById('confirmation').style.display = 'block';
});

document.getElementById('returnBtn').addEventListener('click', function() {
  document.getElementById('contactForm').reset();
  document.getElementById('confirmation').style.display = 'none';
  document.getElementById('contactForm').classList.remove('hidden');
  document.getElementById('firstName').focus();
});
  </script>
</body>
</html>

